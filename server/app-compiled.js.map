{"version":3,"sources":["app.js"],"names":[],"mappings":"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","file":"app-compiled.js","sourcesContent":["import express from 'express';\nimport cors from 'cors';\nimport bodyParser from 'body-parser';\n\nimport { serverPort } from '../other/config.json';\n\nimport * as db from './utils/DataBaseUtils';\n\n// Initialization of express application\nconst app = express();\n\n// Set up connection of database\ndb.setUpConnection();\n\n// Using bodyParser middleware\napp.use( bodyParser.json() );\n\n// Allow requests from any origin\napp.use(cors({ origin: '*' }));\n\n// common request\napp.get('/', (req, res) => {\n    //let html = \"<h1>Hello from daf</h1>\"\n    var options = {\n        root: './',\n        dotfiles: 'deny',\n        };\n    let filename='index.html';\n    res.sendFile(filename, options, (err) => {\n        if (err) {\n            console.log(err);\n            res.status(err.status).end();\n        }\n        else {\n            console.log('Sent:', options.root+filename);\n        }\n    });\n    //app.static('../', index);\n});\n\n\n// RESTful api handlers\napp.get('/articles', (req, res) => {\n    db.listArticles().then(data => res.send(data));\n});\n//var html = \"<p>\"+\"ddd\"+\"</p>\";\n\napp.get('/test', (req, res) => {\n    db.listArticles().then(data => {\n        var html=\"\";\n        data.forEach(function(item, i, arr) {\n            html += \"<p>\" + item.name + \"</p>\";\n        });\n        res.send('<h1>daf</h1>'+html);\n    });\n\n    //res.send('<h1>daf</h1>');\n});\n\napp.get('/add-article', (req, res) => {\n    var newdata={};\n    newdata.available='yes';\n    newdata.id = '999999';\n    newdata.vendorCode = '9997';\n    newdata.name = 'Тестовая запись №3';\n\n    db.createArticle(newdata).then(data => res.send(data));\n});\n\n\napp.post('/article', (req, res) => {\n    db.createArticle(req.body).then(data => res.send(data));\n});\n\napp.delete('/article/:id', (req, res) => {\n    db.deleteArticle(req.params.id).then(data => res.send(data));\n});\n\nconst server = app.listen(serverPort, function() {\n    console.log(`Server is up and running on port ${serverPort}`);\n});\n"]}